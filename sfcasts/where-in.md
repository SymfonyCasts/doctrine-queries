# WHERE IN ()

Coming soon...

We have categories for pets and love, but if we search up here for `pets love`, nothing is found. Makes sense. We're searching to see if this string is matching the `name` or the `iconKey`. So let's complicate our search a bit more to see if we can match both those categories. I'm actually searching word by word here. All right, so the query for this is over in `repository`, `CategoryRepository.php`. `search()` here we go. So `$term` is the string we typed in. So check this out. Let's actually use `explode()`. I'll put a space, and then I'll say `$term`. So if you want a really rich search, you should actually use a real search provider. We can do some pretty good stuff here to get a nice search going just using our database.  So this is now going to be an array of all of the words inside the search term. What I want to do is a `WHERE IN`, so I'm gonna say `andWhere` where `category.name` is in one of these terms so that if the category name is `love` and `love` is one of these terms, it will match.  And we can totally do that. So we have `category.name LIKE :searchTerm`. So right here, I'm going to add `OR category.name IN (:termList)`. The trickiest thing about this is just the syntax. So you want to do parentheses there. So normally you would do something like that if you're writing a raw SQL query. You would do something like that. So in this case, of course, we're not gonna just put the string inside the query. We're gonna create a new parameter here. How about `:termList`?  Then down here, we need to pass it in. So let's say `setParameter('termList', $termList)`. The key thing here is that when you use the `IN()`, you're going to need the parentheses like normal. But what you're actually passing as the parameter is an array. It's not a comma-separated list; you don't need to do that. Just passing the array, Doctrine is going to figure it out, and now it's just that easy. All right. Next, you're probably familiar with the `rand()` function for MySQL or maybe the `year()` function or one of the many MySQL or PostgreSQL functions that there are. Well, you might be surprised to learn that some of those won't work.

